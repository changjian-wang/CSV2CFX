<Window x:Class="CSV2CFX.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:CSV2CFX"
        mc:Ignorable="d"
        Title="CSV2CFX 服务管理" Height="600" Width="850">
    <Grid>
        <!-- 顶部标题栏 -->
        <Border Background="#2C3E50" Height="60" VerticalAlignment="Top">
            <Grid>
                <TextBlock Text="CSV2CFX Service Manager"
                           FontSize="20"
                           FontWeight="Bold"
                           Foreground="White"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Left"
                           Margin="20,0,0,0"/>

                <!-- 用户信息和登录/退出按钮 -->
                <StackPanel Orientation="Horizontal" 
                           HorizontalAlignment="Right" 
                           VerticalAlignment="Center"
                           Margin="0,0,20,0">
                    <TextBlock x:Name="UserInfoText"
                               Text=""
                               Foreground="White"
                               VerticalAlignment="Center"
                               Margin="0,0,10,0"
                               Visibility="Collapsed"/>

                    <Button x:Name="LoginButton"
                            Content="登录"
                            Width="80"
                            Height="30"
                            Background="#3498DB"
                            Foreground="White"
                            BorderBrush="Transparent"
                            Cursor="Hand"
                            Click="LoginButton_Click"/>

                    <Button x:Name="LogoutButton"
                            Content="退出"
                            Width="80"
                            Height="30"
                            Background="#E74C3C"
                            Foreground="White"
                            BorderBrush="Transparent"
                            Cursor="Hand"
                            Margin="10,0,0,0"
                            Visibility="Collapsed"
                            Click="LogoutButton_Click"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- 主内容区域 -->
        <StackPanel x:Name="MainContentPanel" 
                   HorizontalAlignment="Center" 
                   VerticalAlignment="Center" 
                   Width="700"
                   Margin="0,60,0,0"
                   Visibility="Collapsed">

            <!-- 欢迎信息 -->
            <Border Background="#ECF0F1" 
                    Padding="20" 
                    Margin="0,0,0,20"
                    CornerRadius="5">
                <TextBlock x:Name="WelcomeText"
                           Text="欢迎使用 CSV2CFX 服务管理系统"
                           FontSize="16"
                           TextAlignment="Center"
                           Foreground="#2C3E50"/>
            </Border>

            <!-- 功能按钮区域 -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- 检查更新按钮 -->
                <Button x:Name="CheckUpdateButton" 
                        Grid.Column="0" Grid.Row="0"
                        Content="🔄 立即检查更新" 
                        Width="200" 
                        Height="45"
                        Margin="10"
                        Background="#3498DB"
                        Foreground="White"
                        FontSize="14"
                        FontWeight="Bold"
                        Cursor="Hand"
                        Click="CheckUpdateButton_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" 
                                                CornerRadius="5" 
                                                BorderThickness="0">
                                            <ContentPresenter HorizontalAlignment="Center" 
                                                            VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="#2980B9"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>

                <!-- 启动/停止服务按钮 -->
                <Button x:Name="StartServiceButton" 
                        Grid.Column="1" Grid.Row="0"
                        Content="▶️ 启动服务" 
                        Width="200" 
                        Height="45" 
                        Margin="10"
                        Background="#27AE60"
                        Foreground="White"
                        FontSize="14"
                        FontWeight="Bold"
                        Cursor="Hand"
                        Click="StartServiceButton_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" 
                                                CornerRadius="5" 
                                                BorderThickness="0">
                                            <ContentPresenter HorizontalAlignment="Center" 
                                                            VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="#229954"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>

                <!-- 服务配置按钮 -->
                <Button x:Name="ConfigButton" 
                        Grid.Column="0" Grid.Row="1"
                        Content="⚙️ 服务配置" 
                        Width="200" 
                        Height="45" 
                        Margin="10"
                        Background="#F39C12"
                        Foreground="White"
                        FontSize="14"
                        FontWeight="Bold"
                        Cursor="Hand"
                        Click="ConfigButton_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" 
                                                CornerRadius="5" 
                                                BorderThickness="0">
                                            <ContentPresenter HorizontalAlignment="Center" 
                                                            VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="#D68910"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>

                <!-- 查看日志按钮 -->
                <Button x:Name="ViewLogButton" 
                        Grid.Column="1" Grid.Row="1"
                        Content="📋 查看日志" 
                        Width="200" 
                        Height="45" 
                        Margin="10"
                        Background="#9B59B6"
                        Foreground="White"
                        FontSize="14"
                        FontWeight="Bold"
                        Cursor="Hand"
                        Click="ViewLogButton_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" 
                                                CornerRadius="5" 
                                                BorderThickness="0">
                                            <ContentPresenter HorizontalAlignment="Center" 
                                                            VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="#8E44AD"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>
            </Grid>

            <!-- 自动更新说明 -->
            <TextBlock Text="💡 自动更新功能已启用，应用启动时和每天会自动检查更新"
                       TextWrapping="Wrap"
                       Width="500"
                       TextAlignment="Center"
                       Foreground="#7F8C8D"
                       Margin="0,20,0,10"
                       FontSize="12"/>

            <!-- 服务状态显示 -->
            <Border Background="#F8F9FA" 
                    Padding="15" 
                    Margin="0,10,0,0"
                    CornerRadius="5"
                    BorderBrush="#DEE2E6"
                    BorderThickness="1">
                <StackPanel>
                    <TextBlock x:Name="ServiceStatusText"
                               Text="服务状态：已停止"
                               Foreground="#E74C3C"
                               FontSize="14"
                               FontWeight="Bold"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,10"/>

                    <ScrollViewer Height="100" 
                                  VerticalScrollBarVisibility="Auto"
                                  HorizontalScrollBarVisibility="Auto">
                        <TextBlock x:Name="ServiceLogText"
                                   Text=""
                                   TextWrapping="Wrap"
                                   Foreground="#2C3E50"
                                   FontFamily="Consolas"
                                   FontSize="11"/>
                    </ScrollViewer>
                </StackPanel>
            </Border>
        </StackPanel>

        <!-- 未登录提示 -->
        <StackPanel x:Name="LoginPromptPanel"
                   HorizontalAlignment="Center" 
                   VerticalAlignment="Center"
                   Margin="0,60,0,0">
            <TextBlock Text="🔐"
                       FontSize="48"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,20"/>

            <TextBlock Text="请先登录以访问系统功能"
                       FontSize="18"
                       Foreground="#7F8C8D"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,20"/>

            <Button Content="点击登录"
                    Width="150"
                    Height="40"
                    Background="#3498DB"
                    Foreground="White"
                    FontSize="14"
                    FontWeight="Bold"
                    Cursor="Hand"
                    Click="LoginButton_Click">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}" 
                                            CornerRadius="5" 
                                            BorderThickness="0">
                                        <ContentPresenter HorizontalAlignment="Center" 
                                                        VerticalAlignment="Center"/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#2980B9"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Button.Style>
            </Button>
        </StackPanel>
    </Grid>
</Window>